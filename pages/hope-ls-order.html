<!-- CSS -->
<style>
:root {
      --accent: #90CAF9;
      --orig: #252431;
  }
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Raleway';
  }
  body {
    background-color:white;
  }
  ul {
    list-style-type: none;
    margin-bottom: 20px;
    padding: 0;
    overflow: hidden;
    text-align: center;
  }
  ul li {
    display: inline;
  }
  .form-container {
    position: relative;
    background: #fff;
    padding: 2rem;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    width: 950px;
    min-height: 300px;
    margin: 0 auto;
    box-shadow: 0 10px 50px 0 #ccc;
    margin-bottom: 2rem;
  }
  input, button, select {
    border: none;
    font-size: inherit;
    background: #eee;
    border-radius: 3px;
    padding: 1rem;
    width: 56%;
    height: 5%;
  }

  input {
    margin-bottom: 1rem;
  }

  input:focus {
    border: 3px solid var(--accent);
  }

  button {
    color: #fff;
    cursor: pointer;
    background-color: var(--orig);
    margin-top: 2rem;
  }

  button:hover {
    background-color: var(--accent);
  }

  #submit-button {
    height: 8%;
  }

  .is-hidden {
    display: none !important;
  }

  @keyframes rotate {
    100% { transform: rotate(360deg); }
  }

  @keyframes dash {
    0% { stroke-dasharray: 1,200; stroke-dashoffset: 0; }
    50% { stroke-dasharray: 89,200; stroke-dashoffset: -35; }
    100% { stroke-dasharray: 89,200; stroke-dashoffset: -124; }
  }

  .loading {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .loading-spinner {
    width: 50px;
    height: 50px;
  }

  .loading-spinner svg {
    position: relative;
    animation: rotate 2s linear infinite;
    height: 50px;
    width: 50px;
  }

  .loading-spinner circle {
    stroke: var(--accent);
    stroke-dasharray: 1,200;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }
</style>
<title>Hope Longsleeve Order Form</title>

<!-- Google Fonts & Dependent Scripts -->
<link href="https://fonts.googleapis.com/css?family=Raleway:900,400,300,100,200|Source+Sans+Pro:400,300" rel="stylesheet" type="text/css">
<script src="https://unpkg.com/prefixfree@1.0.0/prefixfree.min.js"></script>

<script src="https://wzrd.in/standalone/formdata-polyfill@latest"></script>
<script src="https://wzrd.in/standalone/promise-polyfill@latest"></script>
<script src="https://wzrd.in/standalone/whatwg-fetch@latest"></script>

<!-- HTML -->
<div class="form-container">
  <form name="order-form">
    <ul>
      <li>•</li>
      <li>•</li>
      <li><span style="font-size:32px; font-weight:400; font-family:'Source Sans Pro';">HOPE LONGSLEEVE ORDER FORM</span></li>
      <li>•</li>
      <li>•</li>
    </ul>
    <br/>
    <p>
      ```
      img goes here!!!
      ```
    </p>
    <br/><br/><br/>
    <input name="name" type="text" placeholder="Name"><br/>

    <input name="email" type="email" placeholder="Email" required><br/>


    <label>Size</label><br/>
    <select name="size">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
    </select><br/>
    <button type="submit" id="submit-button">Submit Order!</button>
  </form>

  <div class="loading js-loading is-hidden">
    <div class="loading-spinner">
      <svg><circle cx="25" cy="25" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>
    </div>
  </div>

  <p class="js-success-message is-hidden">
    Success!<br/>
    Order placed.<br/>
    {thank you message}
  </p>
  <p class="js-error-message is-hidden">Error! Please contact <strong>shopspero@gmail.com</strong></p>
</div>

<!-- JavaScript -->
<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbyctJT4ASPnjy1tSblzhhTIDPRqnRh0iNvBhtEH-5Z0fhbH933E/exec'
  const form = document.forms['order-form']
  const loading = document.querySelector('.js-loading')
  const successMessage = document.querySelector('.js-success-message')
  const errorMessage = document.querySelector('.js-error-message')

  form.addEventListener('submit', e => {
    e.preventDefault()
    showLoadingIndicator()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => showSuccessMessage(response))
      .catch(error => showErrorMessage(error))
  })

  function showLoadingIndicator () {
    form.classList.add('is-hidden')
    loading.classList.remove('is-hidden')
  }
  function showSuccessMessage (response) {
    console.log('Order Success - go Spero!!!', response)
    setTimeout(() => {
      successMessage.classList.remove('is-hidden')
      loading.classList.add('is-hidden')
    }, 500)
  }
  function showErrorMessage (error) {
    console.error('Error:', error.message)
    setTimeout(() => {
      errorMessage.classList.remove('is-hidden')
      loading.classList.add('is-hidden')
    }, 500)
  }
</script>